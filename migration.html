<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.8.0/styles/default.min.css">

    <title>Amacle Migration Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #1e1e1e;
            color: #ddd;
            margin: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #282c34;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #61dafb;
            text-align: center;
            margin-bottom: 30px;
        }

        h2 {
            color: #61dafb;
            border-bottom: 2px solid #61dafb;
            padding-bottom: 5px;
            margin-top: 30px;
        }

        p {
            color: #bbb;
        }

        ul {
            padding: 0;
            margin: 0;
        }

        li {
            list-style-type: none;
            margin-bottom: 10px;
        }

        a {
            color: #61dafb;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        pre code {
            padding: 0;
            border-radius: 5px;
            display: block;
            white-space: pre;
            overflow-x: auto;
            background-color: #282c34;
            color: #abb2bf;
            border: none;
        }
    </style>
</head>

<body>
    <h1>Amacle Migration Documentation</h1>

    <h2>Data Types and Properties</h2>
    <p>To create a Migration, use the following command:</p>
    <pre><code>npm run amacle create:migration User</code></pre>
    <p>The migration file will be created at <code>src\Amacle\Migrations\UserMigration.js</code>.</p>
    <pre><code>
const Blueprint = require("../schema/Blueprint");
const DB = require("../schema/DB");
const Migrations = require("../schema/Migration");

class UserMigration extends Migrations {
    initialize() {
        DB.create((table = new Blueprint()) => {
            table.name("User");
            table.id("id");
            table.timestamps("created_at")
            table.timestamps("updated_at")
            table.create();
        });
    }

    action() { 
        // You can add specific actions or modifications here
    }
}

module.exports = UserMigration;
    </code></pre>

    <h2>Data Types and Properties</h2>
    <ul>
        <li><strong>BIGINT:</strong> Represents a large integer data type. Properties: <code>UNSIGNED</code>,
            <code>AUTO_INCREMENT</code></li>
        <li><strong>BLOB:</strong> Represents a binary large object data type.</li>
        <li><strong>BOOLEAN:</strong> Represents a boolean data type.</li>
        <li><strong>CHAR:</strong> Represents a fixed-length character string data type. Property: <code>length</code>
        </li>
        <li><strong>DATETIME:</strong> Represents a date and time data type.</li>
        <li><strong>DECIMAL:</strong> Represents a fixed-point decimal number data type. Properties:
            <code>precision</code>, <code>scale</code>, <code>UNSIGNED</code></li>
        <li><strong>DOUBLE:</strong> Represents a double-precision floating-point number data type. Properties:
            <code>precision</code>, <code>scale</code>, <code>UNSIGNED</code></li>
        <li><strong>ENUM:</strong> Represents an enumeration data type with a predefined set of values. Property:
            <code>values</code></li>
        <li><strong>FLOAT:</strong> Represents a floating-point number data type.</li>
        <li><strong>GEOMETRY:</strong> Represents a geometry data type.</li>
        <li><strong>INT:</strong> Represents an integer data type. Properties: <code>UNSIGNED</code>,
            <code>AUTO_INCREMENT</code></li>
        <li><strong>JSON:</strong> Represents a JSON data type.</li>
        <li><strong>LINESTRING:</strong> Represents a linestring geometry data type.</li>
        <li><strong>MEDIUMINT:</strong> Represents a medium-sized integer data type. Properties: <code>UNSIGNED</code>,
            <code>AUTO_INCREMENT</code></li>
        <li><strong>MEDIUMTEXT:</strong> Represents a medium-sized text data type.</li>
        <li><strong>MULTILINESTRING:</strong> Represents a multiline string geometry data type.</li>
        <li><strong>MULTIPOINT:</strong> Represents a multipoint geometry data type.</li>
        <li><strong>MULTIPOLYGON:</strong> Represents a multipolygon geometry data type.</li>
        <li><strong>POINT:</strong> Represents a point geometry data type.</li>
        <li><strong>POLYGON:</strong> Represents a polygon geometry data type.</li>
        <li><strong>SET:</strong> Represents a set data type with a predefined set of values. Property:
            <code>values</code></li>
        <li><strong>SMALLINT:</strong> Represents a small integer data type. Properties: <code>UNSIGNED</code>,
            <code>AUTO_INCREMENT</code></li>
        <li><strong>TEXT:</strong> Represents a text data type.</li>
        <li><strong>TIME:</strong> Represents a time data type.</li>
        <li><strong>TIMESTAMP:</strong> Represents a timestamp data type. Property:
            <code>DEFAULT CURRENT_TIMESTAMP</code></li>
        <li><strong>TINYINT:</strong> Represents a tiny integer data type. Properties: <code>UNSIGNED</code>,
            <code>AUTO_INCREMENT</code></li>
        <li><strong>TINYTEXT:</strong> Represents a tiny text data type.</li>
        <li><strong>VARCHAR:</strong> Represents a variable-length character string data type. Property:
            <code>length</code></li>
        <li><strong>YEAR:</strong> Represents a year data type.</li>
    </ul>

    <h2>Options for Data Types</h2>
    <ul>
        <li><strong>UNSIGNED:</strong> Specifies that the numeric data type cannot store negative values.</li>
        <li><strong>AUTO_INCREMENT:</strong> Specifies that the numeric data type should automatically increment its
            value for each new row inserted.</li>
        <li><strong>length:</strong> Specifies the length of character data types such as <code>CHAR</code> and
            <code>VARCHAR</code>.</li>
        <li><strong>precision:</strong> Specifies the precision (total number of digits) for decimal data types such as
            <code>DECIMAL</code> and <code>DOUBLE</code>.</li>
        <li><strong>scale:</strong> Specifies the scale (number of digits after the decimal point) for decimal data
            types such as <code>DECIMAL</code> and <code>DOUBLE</code>.</li>
        <li><strong>values:</strong> Specifies the set of allowed values for enumeration (<code>ENUM</code>) and set
            (<code>SET</code>) data types.</li>
        <li><strong>DEFAULT CURRENT_TIMESTAMP:</strong> Specifies the default value for a timestamp data type to be the
            current timestamp.</li>
    </ul>
    <h2>Example Usage</h2>
    <pre><code>
table.char("name",100).isnullable().comment("something...")
table.char("email",100).notnull().comment("something...")
            </code></pre>
    <pre><code>
initialize() {
    // Create a new table in the database using a Blueprint
    DB.create((table = new Blueprint()) => {
        // Define the structure of the 'User' table
        table.name("User");
        table.id("id");
        table.char("name",100).isnullable().comment("something...")
        table.char("email",100).notnull().comment("something...")
        table.timestamps("created_at")
        table.timestamps("updated_at")
        // Execute the SQL query to create the table
        table.create();
    });
}
</code></pre>
    <h2>Static Methods of Blueprint Class</h2>
    <ul>
        <li><code>drop(name)</code>: Calls the <code>drop</code> method of the <code>Blueprint</code> class to drop a
            specified table.</li>
        <li><code>dropIfExists(name)</code>: Calls the <code>dropIfExists</code> method of the <code>Blueprint</code>
            class to drop a specified table if it exists.</li>
        <li><code>alter(alterTableBP)</code>: Creates a new instance of <code>Blueprint</code> and executes the provided
            <code>alterTableBP</code> function, allowing alterations to a table's structure.</li>
        <li><code>Alter.addColumn(tableName, new_column, datatype)</code>: Calls the <code>alterAddColumn</code> method
            of the <code>Blueprint</code> class to add a new column to a table.</li>
        <li><code>Alter.renameColumn(tableName, old_column, new_column)</code>: Calls the <code>alterRenameColumn</code>
            method of the <code>Blueprint</code> class to rename a column in a table.</li>
        <li><code>Alter.addConstraint(tableName, old_column, new_column)</code>: Calls the
            <code>alterAddConstraint</code> method of the <code>Blueprint</code> class to add a constraint to a column
            in a table.</li>
        <li><code>Alter.modifyColumn(tableName, constraint, column_name)</code>: Calls the
            <code>alterModifyColumn</code> method of the <code>Blueprint</code> class to modify a column in a table.
        </li>
        <li><code>dropTable(name)</code>: Calls the <code>dropTable</code> method of the <code>Blueprint</code> class to
            drop a specified table.</li>
        <li><code>createIndex(a, b, c)</code>: Calls the <code>createIndex</code> method of the <code>Blueprint</code>
            class to create an index on a table.</li>
        <li><code>dropTableIfExists(name)</code>: Calls the <code>dropIfExists</code> method of the
            <code>Blueprint</code> class to drop a specified table if it exists.</li>
        <li><code>dropIndex(indexname, tablename)</code>: Calls the <code>dropIndex</code> method of the
            <code>Blueprint</code> class to drop an index from a table.</li>
    </ul>


    <h2>Example Usage</h2>
    <pre><code>
action() { 
    DB.Alter.addColumn("your_table_name","new_col","char(100)")
    DB.Alter.drop("your_table_name")
}
    </code></pre>
    <p>To a Migration, use the following command:</p>
    <pre><code>npm run amacle migrate:all</code></pre>
    <p>OR</p>
    <pre><code>npm run amacle migrate User</code></pre>
</body>

</html>